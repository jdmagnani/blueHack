<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:m="http://code.google.com/p/gmaps4jsf/">
    <head>
        <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAF9QYjrVEsD9al2QCyg8e-hTwM0brOpm-All5BF6PoaKBxRWWERRHQdtsJnNsqELmKZCKghs54I-0Uw" type="text/javascript"> </script>
    </head>
    <body>
        <m:map
            latitude="#{coords.latitude}"
            longitude="#{coords.longitude}"
            width="500px"
            height="300px"
            zoom="14"
            addStretOverlay="true">
            <m:marker draggable="true">
                <m:eventListener eventName="dragend" jsFunction="showStreet"/>
            </m:marker>
            <m:htmlInformationWindow htmlText="#{coords.details}"/>
            <m:mapControl name="GLargeMapControl" position="G_ANCHOR_BOTTOM_RIGHT"/>
            <m:mapControl name="GMapTypeControl"/>
        </m:map>
        <br/> <br/>
        <m:streetViewPanorama width="500px" height="200px"
                              latitude="#{coords.latitude}" longitude="#{coords.longitude}"
                              jsVariable="pano1" />

        <script type="text/javascript">
            function showStreet(latlng) {
                pano1.setLocationAndPOV(latlng);
            }

        </script>
        <form jsfc="h:form">
            <input jsfc="h:commandButton" action="back" value="Back"/>
        </form>
    </body>
</html>